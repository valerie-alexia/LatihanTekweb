<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>c14230205_Tes1_Tekweb_C</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.7.1.slim.min.js" integrity="sha256-kmHvs0B+OpCW5GVHUNjv9rOmY0IvSIRcf7zGUDTDQM8=" crossorigin="anonymous"></script>
    <style>
        .highlight{
            border-color: aqua;
            border-width: 3px;
            transition: 0.15s;
        }
    </style>  
</head>
  <body>
    <div class="container" id="container" style="margin: 20px;">
        <!-- button add card -->
        <div class="buttonAddCard mb-3">
            <button type="button" class="btn btn-primary" onclick="addCard()">Add Card</button>
        </div>
        
        <!-- container card -->
        <div class="cardContainer row"></div>
        <hr>
        
        <!-- card texts fields -->
        <h6>Image title</h6>
        <div class="inputName mb-3">
            <input type="text" class="form-control" id="imageTitleInput" placeholder="Enter image title" aria-label="Image Title">
        </div>  
        <hr>

        <h6>Description</h6>
        <div class="inputDescription mb-3">
            <input type="text" class="form-control" id="descriptionInput" placeholder="Enter description" aria-label="Description">
        </div>

        <!-- edit button -->
        <div class="buttonChangeTitleDesc mb-3">
            <button type="button" class="btn btn-primary" onclick="addTitleDesc()">Add card title and description</button>
        </div>

    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz" crossorigin="anonymous"></script>
    <script>
        $(".card")
        var selectedCard = null;

        // delete
        function del(card) {
            card.parentNode.parentNode.parentNode.remove();
            selectedCard = null;
        }

        //add
        function addCard() {
            var newCard = document.createElement('div');
            newCard.className = 'card mb-1 mt-1';
            newCard.style.width = '18rem';

            newCard.innerHTML = `
                <div class = "card" onclick = "selectCard(this.parentNode)">
                    <img src="https://picsum.photos/200" class="card-img-top" alt="..." margin: auto;">
                    <div class="card-body">
                        <h5 class="card-title">Image Title Here</h5>
                        <p class="card-text">Image Description here...</p>
                        <button type="button" class="btn btn-primary" onclick="del(this)">Delete this card</button>
                    </div>
                </div>
            `
            document.querySelector('.cardContainer').appendChild(newCard);
        }

        function selectCard(card) {
            if (selectedCard){
                selectedCard.removeClass('highlight');
            }
            selectedCard = $(card);
            selectedCard.addClass('highlight');
        }

        function addTitleDesc() {
            var imageTitle = document.getElementById('imageTitleInput').value;
            var description = document.getElementById('descriptionInput').value;
            // var lastCard = document.querySelector('.cardContainer').lastElementChild;

            // if (lastCard) {
            //     lastCard.querySelector('.card-title').textContent = imageTitle;
            //     lastCard.querySelector('.card-text').textContent = description;
            // }
            // document.getElementById('imageTitleInput').value = '';
            // document.getElementById('descriptionInput').value = '';

             if (selectedCard) {
                selectedCard.find('.card-title').text(imageTitle);
                selectedCard.find('.card-text').text(description);
            } else {
                alert('No card selected');
            }

            $('#imageTitleInput').val('');
            $('#descriptionInput').val('');
        }
    </script>
  </body>
</html>